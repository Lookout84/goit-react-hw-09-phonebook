(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(45);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(i){a=!0,c=i}finally{try{r||null==s.return||s.return()}finally{if(a)throw c}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},111:function(e,t,n){"use strict";var r=n(1),a=n(2),c=n(4),o=n.n(c),s=n(0),i=n.n(s),u=n(5),l=i.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.fluid,s=e.as,l=void 0===s?"div":s,d=e.className,b=Object(a.a)(e,["bsPrefix","fluid","as","className"]),f=Object(u.a)(n,"container"),j="string"===typeof c?"-"+c:"-fluid";return i.a.createElement(l,Object(r.a)({ref:t},b,{className:o()(d,c?""+f+j:f)}))}));l.displayName="Container",l.defaultProps={fluid:!1},t.a=l},112:function(e,t,n){"use strict";var r=n(1),a=n(2),c=n(4),o=n.n(c),s=n(0),i=n.n(s),u=n(5),l=["xl","lg","md","sm","xs"],d=i.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,s=e.noGutters,d=e.as,b=void 0===d?"div":d,f=Object(a.a)(e,["bsPrefix","className","noGutters","as"]),j=Object(u.a)(n,"row"),h=j+"-cols",m=[];return l.forEach((function(e){var t,n=f[e];delete f[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&m.push(""+h+r+"-"+t)})),i.a.createElement(b,Object(r.a)({ref:t},f,{className:o.a.apply(void 0,[c,j,s&&"no-gutters"].concat(m))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.a=d},116:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n(0),a=n.n(r),c=n(11),o=n(110),s=n(108),i=n(105),u=n(13),l=n(24),d=n.n(l),b={fetchContacts:function(){return function(e){e(u.a.fetchContactsRequest()),d.a.get("/contacts").then((function(t){var n=t.data;return e(u.a.fetchContactsSuccess(n))})).catch((function(t){return e(u.a.fetchContactsError(t.message))}))}},addNewContact:function(e){var t=e.name,n=e.number;return function(e){var r={name:t,number:n};e(u.a.addContactRequest()),d.a.post("/contacts",r).then((function(t){var n=t.data;return e(u.a.addContactSuccess(n))})).catch((function(t){return e(u.a.addContactError(t.message))}))}},deleteContact:function(e){return function(t){t(u.a.deleteContactRequest()),d.a.delete("/contacts/".concat(e)).then((function(){return t(u.a.deleteContactSuccess(e))})).catch((function(e){return t(u.a.deleteContactError(e.message))}))}}},f=n(32),j=function(e){return e.contacts.items},h=function(e){return e.contacts.filter},m={getLoading:function(e){return e.contacts.loading},getAllContacts:j,getFilter:h,getVisibleContacts:Object(f.a)([j,h],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},O=n(3);function v(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(r.useState)(""),l=Object(o.a)(u,2),d=l[0],f=l[1],j=Object(c.c)(m.getAllContacts),h=Object(c.b)(),v=Object(r.useCallback)((function(e){var t=e.currentTarget,n=t.name,r=t.value;switch(n){case"name":a(r);break;case"number":f(r);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(n," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}}),[]),p=Object(r.useCallback)((function(e){return e.preventDefault(),j.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?alert("".concat(n," is already in contacts")):j.some((function(e){return e.number.toLowerCase()===d.toLowerCase()}))?alert("".concat(d," is already in contacts")):(h(b.addContact({name:n,number:d})),a(""),void f(""))}),[h,j,n,d]);return Object(O.jsxs)(s.a,{onSubmit:p,children:[Object(O.jsxs)(s.a.Group,{controlId:"formGroupName",children:[Object(O.jsx)(s.a.Label,{children:"Name"}),Object(O.jsx)(s.a.Control,{type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.",required:!0,value:n,onChange:v})]}),Object(O.jsxs)(s.a.Group,{controlId:"formGroupPhone",children:[Object(O.jsx)(s.a.Label,{children:"Phone number"}),Object(O.jsx)(s.a.Control,{type:"text",placeholder:"Phone",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435 \u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:d,onChange:v})]}),Object(O.jsx)(i.a,{variant:"success",type:"submit",children:"Add contact"})]})}function p(){var e=Object(c.b)(),t=Object(c.c)(m.getFilter);return Object(O.jsxs)(s.a.Group,{controlId:"formGroupName",children:[Object(O.jsx)(s.a.Label,{children:"Find contacts by name"}),Object(O.jsx)(s.a.Control,{type:"text",value:t,onChange:function(t){return e(u.a.filterContact(t.target.value))}})]})}var x=n(1),C=n(2),g=n(4),y=n.n(g),w=n(5),N=a.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,c=e.striped,o=e.bordered,s=e.borderless,i=e.hover,u=e.size,l=e.variant,d=e.responsive,b=Object(C.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),f=Object(w.a)(n,"table"),j=y()(r,f,l&&f+"-"+l,u&&f+"-"+u,c&&f+"-striped",o&&f+"-bordered",s&&f+"-borderless",i&&f+"-hover"),h=a.a.createElement("table",Object(x.a)({},b,{className:j,ref:t}));if(d){var m=f+"-responsive";return"string"===typeof d&&(m=m+"-"+d),a.a.createElement("div",{className:m},h)}return h}));function P(){var e=Object(c.c)(m.getVisibleContacts),t=Object(c.b)();return Object(O.jsxs)(N,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Phone number"}),Object(O.jsx)("th",{children:"Delete"})]})}),e.map((function(e){var n=e.id,r=e.name,a=e.number;return Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:r}),Object(O.jsx)("td",{children:a}),Object(O.jsx)("td",{children:Object(O.jsx)(i.a,{variant:"danger",type:"button",onClick:function(){!function(e){t(b.deleteContact(e))}(n)},children:"Delete"})})]})},n)}))]})}var L=n(111),E=n(112),S=n(56),k=n(106);function G(){var e=Object(c.b)(),t=Object(c.c)(m.getLoading);return Object(r.useEffect)((function(){e(b.fetchContacts())}),[e]),Object(O.jsxs)(L.a,{fluid:"md",children:[Object(O.jsx)(E.a,{className:"mt-2",children:Object(O.jsx)(S.a,{children:Object(O.jsx)(v,{})})}),Object(O.jsx)(E.a,{className:"mt-5",children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)("h2",{children:"Contacts"}),Object(O.jsx)(p,{}),t&&Object(O.jsx)(k.a,{animation:"border",size:"sl"}),Object(O.jsx)(P,{})]})})]})}}}]);
//# sourceMappingURL=phonebook-page.d0a72d65.chunk.js.map